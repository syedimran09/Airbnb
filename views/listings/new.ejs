<%- layout('/layout/boilerplate') -%>
<h3 class="mt-5">New Listing</h3>
<form
  method="post"
  action="/listings"
  class="row g-3 needs-validation"
  novalidate
>
  <div class="col-md-4">
    <label for="title" class="form-label">Title</label>
    <input
      name="listing[title]"
      placeholder="add a catchy title"
      type="text"
      class="form-control"
      required
    />
    <div class="valid-feedback">Looks good</div>
    <div class="invalid-feedback">Please enter a valid title</div>
  </div>
  <div class="col-md-4">
    <label for="description" class="form-label">Description</label>
    <textarea
      name="listing[description]"
      type="text"
      class="form-control"
      required
    ></textarea>
  </div>
  <div class="col-md-4">
    <label for="image" class="form-label">Image</label>
    <div class="input-group has-validation">
      <input name="listing[image]" type="text" class="form-control" required />
      <div class="invalid-feedback">Enable to load image</div>
    </div>
  </div>
  <div class="col-md-4">
    <label for="price" class="form-label">Price</label>
    <input name="listing[price]" type="number" class="form-control" required />
    <div class="invalid-feedback">Enter price of stay</div>
  </div>
  <div class="col-md-4">
    <label for="city" class="form-label">City</label>
    <input name="listing[location]" type="text" class="form-control" required />
    <div class="invalid-feedback">Enter location</div>
  </div>
  <div class="col-md-3">
    <label for="country" class="form-label">Country</label>
    <input name="listing[country]" type="text" class="form-control" required />
    <div class="invalid-feedback">Please select a valid country.</div>
  </div>
  <div class="col-12">
    <button class="btn btn-danger offset-6" type="submit"><b>Add</b></button>
  </div>
</form>
<!-- <script>
  (() => {
    'use strict';
    const forms = document.querySelectorAll('.needs-validation');
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  })();
</script> -->
